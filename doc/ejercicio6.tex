\subsection{Ejercicio 6: Ejecuci'on de procesos en Background}
Crear el siguiente programa 
\begin{verbatim}
/usr/src/loop.c
#include <stdio.h>
int main()
{
  int i, c;
  while(1)
  {
    c = 48 + i;
    printf("%d",c);
    i++;
    i = i % idgrupo;
  }
}
\end{verbatim}

\subsubsubsection{Compilarlo. El programa compilado debe llamarse loop. Indicando a la macro idgrupo el valor de su grupo.}

Creamos el programa y lo guardamos en el directorio \textbf{/usr/src}. Para compilar el programa realizamos los siguientes pasos:

\begin{verbatim}
    # pwd
    /usr/src
    # cc loop.c -oloop
    #
\end{verbatim}

\subsubsubsection{(a) Correrlo en foreground ¿Qu'e sucede? Mate el proceso con el comando kill.}

Ejecutamos el programa en foreground y notamos que la pantalla se llena de n'umeros, es decir, se produce una impresi'on indefinida de n'umeros en pantalla. La consola queda inutilizable ya que el programa est'a en un loop infinito.

\begin{verbatim}
# ./loop
2535455484950515253545548495051525354554849505152535455484950515253545
2535455484950515253545548495051525354554849505152535455484950515253545
2535455484950515253545548495051525354554849505152535455484950515253545
2535455484950515253545548495051525354554849505152535455484950515253545
2535455484950515253545548495051525354554849505152535455484950515253545
2535455484950515253545548495051525354554849505152535455484950515253545
\end{verbatim}

Como necesitamos saber el PID del proceso para usar kill, creamos una nueva consola mediante Alt+F2 y en ella ejecutamos los siguientes comandos:

\begin{verbatim}
    Minix Release 2.0 Version 0
    noname login: root
    Password:
    # ps 
    PID TTY  TIME CMD
     40  co  0:00 -sh
     41  c1  0:00 -sh
     47  co  0:00 ash
     49  co  0:46 ./loop
     53  c1  0:00 ash
     54  c1  0:00 ps
    # kill 49
    #
\end{verbatim}

Esto causa que en la primer consola el programa finalice con la leyenda \textbf{Terminated}.

\begin{verbatim}
2484950515248495051524849505152484950515248495051524849505152484950515
2484950515248495051524849505152484950515248495051524849505152484950515
2484950515248495051524849505152484950515248495051524849505152484950515
2484950515248495051524849505152484950515248495051524849505152484950515
24849505152484950515248Terminated
\end{verbatim}

\subsubsubsection{(b) Ahora ejec'utelo en background}
\indent \textbf{/usr/src/loop $>$ /dev/null \&}
\subsubsubsection{¿Qu'e se muestra en la pantalla?}

Al ejecutarlo en background, el shell devuelve el ID del proceso. Al estar siendo redirigida la salida a null no imprime nada en pantalla.

\begin{verbatim}
# pwd
/usr/src
# ./loop > /dev/null &
#
\end{verbatim}

Cabe aclarar que si el usuario logueado cambi'o su shell, por ejemplo cambi'o a \textbf{ash}, no visualizar'a el ID del proceso y deber'a realizar un \textbf{ps -a} para obtenerlo.

\subsubsubsection{¿Qu'e sucede si presiona la tecla F1? ¿Qué significan esos datos?}

La tecla F1, muestra una tabla con los procesos del sistema. 'Esta tabla contiene datos del proceso y datos del sistema. Presenta las siguientes columnas:

\begin{itemize}

\item \textbf{pid}: El identificador del proceso. Puede ser el PID asignado por el MM, o puede ser el spot en la tabla de procesos, es decir el p nr, si este es menor a 0.
\item \textbf{pc}: Indica el valor del Program Counter en el momento en que el proceso fue bloqueado.
\item \textbf{sp}: Indica la direcci'on del puntero al tope del stack del proceso.
\item \textbf{flag}: Indica el valor del word de los flags. Si no hay ning'un flag activado, es decir, si este valor es 0, el proceso puede ser ejecutado, en caso contrario se encuentra bloqueado o a'un no fue inicializado.
\item \textbf{user}: Tiempo que el proceso estuvo utilizando el procesador. Est'a medido en "ticks", aproximadamente hay 60 ticks por segundo (59,7 medido, pero bajo Bochs por lo que es inexacto).
\item \textbf{sys}: Tiempo de ejecuci'on de rutinas de sistema relacionadas a la administraci'on de 'este proceso. Tambi'en medido en "ticks"
\item \textbf{text}: Direcci'on f'isica donde comienza el segmento TEXT, o de c'odigo, asignado al proceso.
\item \textbf{data}: Direcci'on f'isica donde comienza el segmento DATA, o de datos, asignado al proceso.
\item \textbf{size}: Tama'no del espacio ocupado en memoria por el proceso en KB.
\item \textbf{recv}: Si el proceso se encuentra bloqueado en espera de el envio o recepci'on de un mensaje, este campo indica quien es el receptor o emisor de dicho mensaje. Caso contrario, est'a en blanco.
\item \textbf{command}: Indica el nombre del proceso.
\end{itemize}

\subsubsubsection{¿Qu'e sucede si presiona la tecla F2? ¿Qu'e significan esos datos?}

Al presionar F2 se obtiene informaci'on sobre el mapa de memoria de los procesos
(estructura mem map en \textbf{/usr/include/minix/type.h}). La tabla presenta
las siguientes columnas:

\begin{itemize}
\item \textbf{PROC}: Indica el slot en la tabla de procesos, es decir el p nr.
\item \textbf{NAME}: Indica el nombre del proceso.
\item \textbf{TEXT}: Para el segmento de c'odigo indica la direcci'on virtual, la direcci'on f'isica y el tama'no, en ese orden.
\item \textbf{DATA}: Para el segmento de datos indica la direcci'on virtual, la direcci'on f'isica y el tama'no, en ese orden.
\item \textbf{STACK}: Para el segmento de stack, o pila, indica la direcci'on virtual, la direcci'on f'isica y el tama'no, en ese orden.
\item \textbf{SIZE}: Tama'no del espacio ocupado en memoria por el proceso.
\end{itemize}
